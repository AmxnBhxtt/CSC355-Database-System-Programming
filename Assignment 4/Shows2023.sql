/* 
	Shows2023.sql
	Eric J. Schwabe
	April 19th, 2023

	Script to set up BAND, MUSICIAN, HALL, SHOW tables
	for CSC 355 Assignment 4
	For use in assignment only -- do not copy, post or distribute...
*/

DROP TABLE SHOW CASCADE CONSTRAINTS;
DROP TABLE HALL CASCADE CONSTRAINTS;
DROP TABLE MUSICIAN CASCADE CONSTRAINTS;
DROP TABLE BAND CASCADE CONSTRAINTS;
CREATE TABLE BAND
(
	BNumber		INTEGER		PRIMARY KEY,
	BName		VARCHAR(30),
	Type		VARCHAR(20)
);
CREATE TABLE MUSICIAN
(
	MID		CHAR(4)		PRIMARY KEY,
	MName		VARCHAR(20),
	Instrument	VARCHAR(20),
	Age		NUMBER(2,0)	CHECK (Age > 0),
	BandNumber 	INTEGER		REFERENCES BAND(BNumber)
);
CREATE TABLE HALL
(
	HID		CHAR(4)		PRIMARY KEY,
	HName		VARCHAR(30),
	Capacity	NUMBER(5)	CHECK (Capacity >0),
	City		VARCHAR(20)
);
CREATE TABLE SHOW
(
	BandNumber	INTEGER		REFERENCES BAND(BNumber),
	HallID		CHAR(4)		REFERENCES HALL(HID),
	ShowDate	DATE,
	Payment		NUMBER(8,2)	CHECK (Payment >= 0),
	TicketPrice	NUMBER(6,2)	CHECK (TicketPrice >= 0),
	PRIMARY KEY (BandNumber, HallID, ShowDate)
);
INSERT INTO BAND VALUES (1, 'Rock Shop', 'Rock');
INSERT INTO BAND VALUES (2, 'Maybe Or Not', 'Pop');
INSERT INTO BAND VALUES (3, 'Global Beat', 'Reggae');
INSERT INTO BAND VALUES (4, 'Nobody Special', 'Rock');
INSERT INTO MUSICIAN VALUES ('W001', 'Watson', 'Drums', 28, 4);
INSERT INTO MUSICIAN VALUES ('W223', 'Wu', 'Guitar', 25, 4);
INSERT INTO MUSICIAN VALUES ('E777', 'El Fadil', 'Bass', 26, 4);
INSERT INTO MUSICIAN VALUES ('C220', 'Carlson', 'Vocals', 22, 2);
INSERT INTO MUSICIAN VALUES ('R001', 'Rivera', 'Guitar', 21, 3);
INSERT INTO MUSICIAN VALUES ('H332', 'Harley', 'Guitar', 35, 2);
INSERT INTO MUSICIAN VALUES ('S004', 'St. John', 'Bass', 20, 3);
INSERT INTO MUSICIAN VALUES ('S005', 'Smythe', 'Vocals', 24, 3);
INSERT INTO MUSICIAN VALUES ('S001', 'Solomon', 'Drums', 24, 3);
INSERT INTO MUSICIAN VALUES ('A000', 'Anonymous', 'Vocals', 40, 1);
INSERT INTO MUSICIAN VALUES ('A001', 'Noname', 'Bass', 35, 1);
INSERT INTO HALL VALUES ('SS01', 'Suburban Scene', 100, 'Schaumburg');
INSERT INTO HALL VALUES ('RZ02', 'Reggae Zone', 200, 'Chicago');
INSERT INTO HALL VALUES ('TT03', 'Tinley Tavern', 60, 'Tinley Park');
INSERT INTO HALL VALUES ('CB04', 'City Bar', 250, 'Chicago');
INSERT INTO SHOW VALUES (3, 'RZ02', DATE '2022-11-28', 2700.00, 30.00);
INSERT INTO SHOW VALUES (2, 'CB04', DATE '2022-11-12', 3500.00, 40.00);
INSERT INTO SHOW VALUES (2, 'CB04', DATE '2022-11-13', 3500.00, 40.00);
INSERT INTO SHOW VALUES (2, 'SS01', DATE '2022-12-28', 2000.00, 35.00);
INSERT INTO SHOW VALUES (2, 'SS01', DATE '2022-12-29', 2000.00, 35.00);
INSERT INTO SHOW VALUES (3, 'CB04', DATE '2023-01-10', 2000.00, 30.00);
INSERT INTO SHOW VALUES (1, 'CB04', DATE '2023-02-01', 1000.00, 20.00);
INSERT INTO SHOW VALUES (1, 'CB04', DATE '2023-02-02', 1000.00, 20.00);
INSERT INTO SHOW VALUES (1, 'RZ02', DATE '2023-02-20', 1000.00, 25.00);
SELECT * FROM BAND;
SELECT * FROM MUSICIAN;
SELECT * FROM HALL;
SELECT * FROM SHOW;
COMMIT;
